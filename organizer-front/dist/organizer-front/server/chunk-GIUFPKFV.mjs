import './polyfills.server.mjs';
import{a as pi,b as fi,c as mi,d as _i,e as gi,f as vi,i as yi,m as bi,p as Oi}from"./chunk-4XF6IOD6.mjs";import{$ as F,$a as ye,Aa as ri,Ab as ui,B as me,Ba as Tt,Bb as It,Ca as oi,D as Xt,Da as et,Ea as Me,Eb as Ie,Fa as ai,Ga as ge,Ia as $,J as ei,Jb as q,Kb as De,L as ti,Lb as hi,M as A,Ma as M,Mb as ne,N as ii,Na as Mt,Nb as se,O as Et,Oa as b,P as Se,Pa as te,Q as _e,Qa as Ne,R,Ra as tt,S as Ue,Sa as a,Ta as o,U as Z,Ua as y,Va as x,W as N,Wa as v,X as Je,Xa as O,Ya as li,Za as ci,_ as Ee,_a as ve,aa as $e,ab as be,ba as I,bb as c,c as qe,ca as ni,cb as _,db as ie,ea as Ke,eb as Oe,f as S,fb as k,g as He,ga as Xe,gb as Nt,h as Yt,ha as E,hb as P,i as qt,ia as T,ib as B,j as St,ja as Le,jb as Re,ka as Te,ma as Y,n as je,na as ee,nb as di,pb as Rt,s as Qt,sa as si,t as z,u as Jt,v as W,w as Kt,x as Qe,ya as u,za as p,zb as it}from"./chunk-LEU6HFRQ.mjs";import{a as C,b as j}from"./chunk-VVCT4QZE.mjs";var Ai=(()=>{let e=class e{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}};e.\u0275fac=function(i){return new(i||e)(p(Me),p(Y))},e.\u0275dir=I({type:e});let n=e;return n})(),kt=(()=>{let e=class e extends Ai{};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=Le(e)))(r||e)}})(),e.\u0275dir=I({type:e,features:[$]});let n=e;return n})(),ut=new Z("");var yn={provide:ut,useExisting:_e(()=>L),multi:!0};function bn(){let n=It()?It().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var On=new Z(""),L=(()=>{let e=class e extends Ai{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!bn())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}};e.\u0275fac=function(i){return new(i||e)(p(Me),p(Y),p(On,8))},e.\u0275dir=I({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&v("input",function(d){return r._handleInput(d.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(d){return r._compositionEnd(d.target.value)})},features:[Oe([yn]),$]});let n=e;return n})();function re(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function Fi(n){return n!=null&&typeof n.length=="number"}var xi=new Z(""),ki=new Z(""),Dn=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,D=class{static min(e){return Cn(e)}static max(e){return wn(e)}static required(e){return Sn(e)}static requiredTrue(e){return En(e)}static email(e){return Tn(e)}static minLength(e){return Mn(e)}static maxLength(e){return Nn(e)}static pattern(e){return Rn(e)}static nullValidator(e){return Pi(e)}static compose(e){return Ui(e)}static composeAsync(e){return Li(e)}};function Cn(n){return e=>{if(re(e.value)||re(n))return null;let s=parseFloat(e.value);return!isNaN(s)&&s<n?{min:{min:n,actual:e.value}}:null}}function wn(n){return e=>{if(re(e.value)||re(n))return null;let s=parseFloat(e.value);return!isNaN(s)&&s>n?{max:{max:n,actual:e.value}}:null}}function Sn(n){return re(n.value)?{required:!0}:null}function En(n){return n.value===!0?null:{required:!0}}function Tn(n){return re(n.value)||Dn.test(n.value)?null:{email:!0}}function Mn(n){return e=>re(e.value)||!Fi(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function Nn(n){return e=>Fi(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function Rn(n){if(!n)return Pi;let e,s;return typeof n=="string"?(s="",n.charAt(0)!=="^"&&(s+="^"),s+=n,n.charAt(n.length-1)!=="$"&&(s+="$"),e=new RegExp(s)):(s=n.toString(),e=n),t=>{if(re(t.value))return null;let i=t.value;return e.test(i)?null:{pattern:{requiredPattern:s,actualValue:i}}}}function Pi(n){return null}function Vi(n){return n!=null}function Bi(n){return di(n)?qt(n):n}function Gi(n){let e={};return n.forEach(s=>{e=s!=null?C(C({},e),s):e}),Object.keys(e).length===0?null:e}function Hi(n,e){return e.map(s=>s(n))}function In(n){return!n.validate}function ji(n){return n.map(e=>In(e)?e:s=>e.validate(s))}function Ui(n){if(!n)return null;let e=n.filter(Vi);return e.length==0?null:function(s){return Gi(Hi(s,e))}}function $i(n){return n!=null?Ui(ji(n)):null}function Li(n){if(!n)return null;let e=n.filter(Vi);return e.length==0?null:function(s){let t=Hi(s,e).map(Bi);return Qt(t).pipe(je(Gi))}}function zi(n){return n!=null?Li(ji(n)):null}function Di(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Wi(n){return n._rawValidators}function Zi(n){return n._rawAsyncValidators}function At(n){return n?Array.isArray(n)?n:[n]:[]}function rt(n,e){return Array.isArray(n)?n.includes(e):n===e}function Ci(n,e){let s=At(e);return At(n).forEach(i=>{rt(s,i)||s.push(i)}),s}function wi(n,e){return At(e).filter(s=>!rt(n,s))}var ot=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=$i(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,s){return this.control?this.control.hasError(e,s):!1}getError(e,s){return this.control?this.control.getError(e,s):null}},Fe=class extends ot{get formDirective(){return null}get path(){return null}},Ze=class extends ot{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},at=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},An={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},sr=j(C({},An),{"[class.ng-submitted]":"isSubmitted"}),oe=(()=>{let e=class e extends at{constructor(t){super(t)}};e.\u0275fac=function(i){return new(i||e)(p(Ze,2))},e.\u0275dir=I({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Ne("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[$]});let n=e;return n})(),ae=(()=>{let e=class e extends at{constructor(t){super(t)}};e.\u0275fac=function(i){return new(i||e)(p(Fe,10))},e.\u0275dir=I({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Ne("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[$]});let n=e;return n})();var ze="VALID",nt="INVALID",Ae="PENDING",We="DISABLED";function Pt(n){return(ht(n)?n.validators:n)||null}function Fn(n){return Array.isArray(n)?$i(n):n||null}function Vt(n,e){return(ht(e)?e.asyncValidators:n)||null}function xn(n){return Array.isArray(n)?zi(n):n||null}function ht(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Yi(n,e,s){let t=n.controls;if(!(e?Object.keys(t):t).length)throw new Se(1e3,"");if(!t[s])throw new Se(1001,"")}function qi(n,e,s){n._forEachChild((t,i)=>{if(s[i]===void 0)throw new Se(1002,"")})}var xe=class{constructor(e,s){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(s)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ze}get invalid(){return this.status===nt}get pending(){return this.status==Ae}get disabled(){return this.status===We}get enabled(){return this.status!==We}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ci(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ci(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(wi(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(wi(e,this._rawAsyncValidators))}hasValidator(e){return rt(this._rawValidators,e)}hasAsyncValidator(e){return rt(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(s=>{s.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(s=>{s.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ae,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let s=this._parentMarkedDirty(e.onlySelf);this.status=We,this.errors=null,this._forEachChild(t=>{t.disable(j(C({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(j(C({},e),{skipPristineCheck:s})),this._onDisabledChange.forEach(t=>t(!0))}enable(e={}){let s=this._parentMarkedDirty(e.onlySelf);this.status=ze,this._forEachChild(t=>{t.enable(j(C({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(j(C({},e),{skipPristineCheck:s})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ze||this.status===Ae)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(s=>s._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?We:ze}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ae,this._hasOwnPendingAsyncValidator=!0;let s=Bi(this.asyncValidator(this));this._asyncValidationSubscription=s.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,s={}){this.errors=e,this._updateControlsErrors(s.emitEvent!==!1)}get(e){let s=e;return s==null||(Array.isArray(s)||(s=s.split(".")),s.length===0)?null:s.reduce((t,i)=>t&&t._find(i),this)}getError(e,s){let t=s?this.get(s):this;return t&&t.errors?t.errors[e]:null}hasError(e,s){return!!this.getError(e,s)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ee,this.statusChanges=new ee}_calculateStatus(){return this._allControlsDisabled()?We:this.errors?nt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ae)?Ae:this._anyControlsHaveStatus(nt)?nt:ze}_anyControlsHaveStatus(e){return this._anyControls(s=>s.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ht(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let s=this._parent&&this._parent.dirty;return!e&&!!s&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Fn(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=xn(this._rawAsyncValidators)}},lt=class extends xe{constructor(e,s,t){super(Pt(s),Vt(t,s)),this.controls=e,this._initObservables(),this._setUpdateStrategy(s),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,s){return this.controls[e]?this.controls[e]:(this.controls[e]=s,s.setParent(this),s._registerOnCollectionChange(this._onCollectionChange),s)}addControl(e,s,t={}){this.registerControl(e,s),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(e,s={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}setControl(e,s,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],s&&this.registerControl(e,s),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,s={}){qi(this,!0,e),Object.keys(e).forEach(t=>{Yi(this,!0,t),this.controls[t].setValue(e[t],{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s)}patchValue(e,s={}){e!=null&&(Object.keys(e).forEach(t=>{let i=this.controls[t];i&&i.patchValue(e[t],{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s))}reset(e={},s={}){this._forEachChild((t,i)=>{t.reset(e?e[i]:null,{onlySelf:!0,emitEvent:s.emitEvent})}),this._updatePristine(s),this._updateTouched(s),this.updateValueAndValidity(s)}getRawValue(){return this._reduceChildren({},(e,s,t)=>(e[t]=s.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(s,t)=>t._syncPendingControls()?!0:s);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(s=>{let t=this.controls[s];t&&e(t,s)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[s,t]of Object.entries(this.controls))if(this.contains(s)&&e(t))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(s,t,i)=>((t.enabled||this.disabled)&&(s[i]=t.value),s))}_reduceChildren(e,s){let t=e;return this._forEachChild((i,r)=>{t=s(t,i,r)}),t}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ft=class extends lt{};var Bt=new Z("CallSetDisabledState",{providedIn:"root",factory:()=>pt}),pt="always";function kn(n,e){return[...e.path,n]}function Si(n,e,s=pt){Gt(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||s==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Vn(n,e),Gn(n,e),Bn(n,e),Pn(n,e)}function Ei(n,e,s=!0){let t=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(t),e.valueAccessor.registerOnTouched(t)),dt(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function ct(n,e){n.forEach(s=>{s.registerOnValidatorChange&&s.registerOnValidatorChange(e)})}function Pn(n,e){if(e.valueAccessor.setDisabledState){let s=t=>{e.valueAccessor.setDisabledState(t)};n.registerOnDisabledChange(s),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(s)})}}function Gt(n,e){let s=Wi(n);e.validator!==null?n.setValidators(Di(s,e.validator)):typeof s=="function"&&n.setValidators([s]);let t=Zi(n);e.asyncValidator!==null?n.setAsyncValidators(Di(t,e.asyncValidator)):typeof t=="function"&&n.setAsyncValidators([t]);let i=()=>n.updateValueAndValidity();ct(e._rawValidators,i),ct(e._rawAsyncValidators,i)}function dt(n,e){let s=!1;if(n!==null){if(e.validator!==null){let i=Wi(n);if(Array.isArray(i)&&i.length>0){let r=i.filter(l=>l!==e.validator);r.length!==i.length&&(s=!0,n.setValidators(r))}}if(e.asyncValidator!==null){let i=Zi(n);if(Array.isArray(i)&&i.length>0){let r=i.filter(l=>l!==e.asyncValidator);r.length!==i.length&&(s=!0,n.setAsyncValidators(r))}}}let t=()=>{};return ct(e._rawValidators,t),ct(e._rawAsyncValidators,t),s}function Vn(n,e){e.valueAccessor.registerOnChange(s=>{n._pendingValue=s,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Qi(n,e)})}function Bn(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Qi(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function Qi(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Gn(n,e){let s=(t,i)=>{e.valueAccessor.writeValue(t),i&&e.viewToModelUpdate(t)};n.registerOnChange(s),e._registerOnDestroy(()=>{n._unregisterOnChange(s)})}function Hn(n,e){n==null,Gt(n,e)}function jn(n,e){return dt(n,e)}function Un(n,e){if(!n.hasOwnProperty("model"))return!1;let s=n.model;return s.isFirstChange()?!0:!Object.is(e,s.currentValue)}function $n(n){return Object.getPrototypeOf(n.constructor)===kt}function Ln(n,e){n._syncPendingControls(),e.forEach(s=>{let t=s.control;t.updateOn==="submit"&&t._pendingChange&&(s.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function zn(n,e){if(!e)return null;Array.isArray(e);let s,t,i;return e.forEach(r=>{r.constructor===L?s=r:$n(r)?t=r:i=r}),i||t||s||null}function Wn(n,e){let s=n.indexOf(e);s>-1&&n.splice(s,1)}function Ti(n,e){let s=n.indexOf(e);s>-1&&n.splice(s,1)}function Mi(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var st=class extends xe{constructor(e=null,s,t){super(Pt(s),Vt(t,s)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(s),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ht(s)&&(s.nonNullable||s.initialValueIsDefault)&&(Mi(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,s={}){this.value=this._pendingValue=e,this._onChange.length&&s.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,s.emitViewToModelChange!==!1)),this.updateValueAndValidity(s)}patchValue(e,s={}){this.setValue(e,s)}reset(e=this.defaultValue,s={}){this._applyFormState(e),this.markAsPristine(s),this.markAsUntouched(s),this.setValue(this.value,s),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ti(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ti(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Mi(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Zn=n=>n instanceof st;var le=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=I({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let n=e;return n})();var Ji=new Z("");var Yn={provide:Fe,useExisting:_e(()=>J)},J=(()=>{let e=class e extends Fe{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ee,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(dt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return Si(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){Ei(t.control||null,t,!1),Wn(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,Ln(this.form,this.directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,r=this.form.get(t.path);i!==r&&(Ei(i||null,t),Zn(r)&&(Si(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);Hn(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&jn(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Gt(this.form,this),this._oldForm&&dt(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(p(xi,10),p(ki,10),p(Bt,8))},e.\u0275dir=I({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&v("submit",function(d){return r.onSubmit(d)})("reset",function(){return r.onReset()})},inputs:{form:[Ee.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Oe([Yn]),$,Xe]});let n=e;return n})();var qn={provide:Ze,useExisting:_e(()=>K)},K=(()=>{let e=class e extends Ze{set isDisabled(t){}constructor(t,i,r,l,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.name=null,this.update=new ee,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=zn(this,l)}ngOnChanges(t){this._added||this._setUpControl(),Un(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return kn(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(p(Fe,13),p(xi,10),p(ki,10),p(ut,10),p(Ji,8))},e.\u0275dir=I({type:e,selectors:[["","formControlName",""]],inputs:{name:[Ee.None,"formControlName","name"],isDisabled:[Ee.None,"disabled","isDisabled"],model:[Ee.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Oe([qn]),$,Xe]});let n=e;return n})(),Qn={provide:ut,useExisting:_e(()=>ce),multi:!0};function Ki(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Jn(n){return n.split(":")[0]}var ce=(()=>{let e=class e extends kt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i=this._getOptionId(t),r=Ki(i,t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=Jn(t);return this._optionMap.has(i)?this._optionMap.get(i):t}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=Le(e)))(r||e)}})(),e.\u0275dir=I({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&v("change",function(d){return r.onChange(d.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Oe([Qn]),$]});let n=e;return n})(),ke=(()=>{let e=class e{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(Ki(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(p(Y),p(Me),p(ce,9))},e.\u0275dir=I({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let n=e;return n})(),Kn={provide:ut,useExisting:_e(()=>Xi),multi:!0};function Ni(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Xn(n){return n.split(":")[0]}var Xi=(()=>{let e=class e extends kt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i;if(Array.isArray(t)){let r=t.map(l=>this._getOptionId(l));i=(l,d)=>{l._setSelected(r.indexOf(d.toString())>-1)}}else i=(r,l)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let r=[],l=i.selectedOptions;if(l!==void 0){let d=l;for(let h=0;h<d.length;h++){let m=d[h],f=this._getOptionValue(m.value);r.push(f)}}else{let d=i.options;for(let h=0;h<d.length;h++){let m=d[h];if(m.selected){let f=this._getOptionValue(m.value);r.push(f)}}}this.value=r,t(r)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=Xn(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=Le(e)))(r||e)}})(),e.\u0275dir=I({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&v("change",function(d){return r.onChange(d.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Oe([Kn]),$]});let n=e;return n})(),Pe=(()=>{let e=class e{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(Ni(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Ni(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(p(Y),p(Me),p(Xi,9))},e.\u0275dir=I({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let n=e;return n})();var en=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=$e({type:e}),e.\u0275inj=Ue({});let n=e;return n})(),xt=class extends xe{constructor(e,s,t){super(Pt(s),Vt(t,s)),this.controls=e,this._initObservables(),this._setUpdateStrategy(s),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,s={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}insert(e,s,t={}){this.controls.splice(e,0,s),this._registerControl(s),this.updateValueAndValidity({emitEvent:t.emitEvent})}removeAt(e,s={}){let t=this._adjustIndex(e);t<0&&(t=0),this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:s.emitEvent})}setControl(e,s,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),s&&(this.controls.splice(i,0,s),this._registerControl(s)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,s={}){qi(this,!1,e),e.forEach((t,i)=>{Yi(this,!1,i),this.at(i).setValue(t,{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s)}patchValue(e,s={}){e!=null&&(e.forEach((t,i)=>{this.at(i)&&this.at(i).patchValue(t,{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s))}reset(e=[],s={}){this._forEachChild((t,i)=>{t.reset(e[i],{onlySelf:!0,emitEvent:s.emitEvent})}),this._updatePristine(s),this._updateTouched(s),this.updateValueAndValidity(s)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(s=>s._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((s,t)=>t._syncPendingControls()?!0:s,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((s,t)=>{e(s,t)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(s=>s.enabled&&e(s))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Ri(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var de=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new e;return t.useNonNullable=!0,t}group(t,i=null){let r=this._reduceControls(t),l={};return Ri(i)?l=i:i!==null&&(l.validators=i.validator,l.asyncValidators=i.asyncValidator),new lt(r,l)}record(t,i=null){let r=this._reduceControls(t);return new Ft(r,i)}control(t,i,r){let l={};return this.useNonNullable?(Ri(i)?l=i:(l.validators=i,l.asyncValidators=r),new st(t,j(C({},l),{nonNullable:!0}))):new st(t,i,r)}array(t,i,r){let l=t.map(d=>this._createControl(d));return new xt(l,i,r)}_reduceControls(t){let i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){if(t instanceof st)return t;if(t instanceof xe)return t;if(Array.isArray(t)){let i=t[0],r=t.length>1?t[1]:null,l=t.length>2?t[2]:null;return this.control(i,r,l)}else return this.control(t)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var ue=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:Bt,useValue:t.callSetDisabledState??pt}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=$e({type:e}),e.\u0275inj=Ue({imports:[en]});let n=e;return n})(),he=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:Ji,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Bt,useValue:t.callSetDisabledState??pt}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=$e({type:e}),e.\u0275inj=Ue({imports:[en]});let n=e;return n})();var mt={production:!1,apiUrl:"http://192.168.10.46:8080/api/orders",wsUrl:"ws://192.168.10.46:8080/ws/orders"};var pe=(()=>{let e=class e{constructor(t){this.http=t,this.baseUrl=mt.apiUrl}getOrders(){return this.http.get(`${this.baseUrl}`)}getOrderById(t){return this.http.get(`${this.baseUrl}/${t}`)}createOrder(t){return this.http.post(`${this.baseUrl}/create`,t)}updateOrder(t,i){return this.http.put(`${this.baseUrl}/update/${t}`,i)}deleteOrder(t){return this.http.delete(`${this.baseUrl}/delete/${t}`)}updateOrderStatus(t,i,r,l){let d=`${this.baseUrl}/${t}/status`,h=new URLSearchParams;return h.append("status",i.toString()),h.append("entregador",r),h.append("observacao",l),this.http.put(`${d}?${h.toString()}`,null)}};e.\u0275fac=function(i){return new(i||e)(N(pi))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Ce={LF:`
`,NULL:"\0"};var Ye=class n{constructor(e){let{command:s,headers:t,body:i,binaryBody:r,escapeHeaderValues:l,skipContentLengthHeader:d}=e;this.command=s,this.headers=Object.assign({},t||{}),r?(this._binaryBody=r,this.isBinaryBody=!0):(this._body=i||"",this.isBinaryBody=!1),this.escapeHeaderValues=l||!1,this.skipContentLengthHeader=d||!1}get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}static fromRawFrame(e,s){let t={},i=r=>r.replace(/^\s+|\s+$/g,"");for(let r of e.headers.reverse()){let l=r.indexOf(":"),d=i(r[0]),h=i(r[1]);s&&e.command!=="CONNECT"&&e.command!=="CONNECTED"&&(h=n.hdrValueUnEscape(h)),t[d]=h}return new n({command:e.command,headers:t,binaryBody:e.binaryBody,escapeHeaderValues:s})}toString(){return this.serializeCmdAndHeaders()}serialize(){let e=this.serializeCmdAndHeaders();return this.isBinaryBody?n.toUnit8Array(e,this._binaryBody).buffer:e+this._body+Ce.NULL}serializeCmdAndHeaders(){let e=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(let s of Object.keys(this.headers||{})){let t=this.headers[s];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?e.push(`${s}:${n.hdrValueEscape(`${t}`)}`):e.push(`${s}:${t}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&e.push(`content-length:${this.bodyLength()}`),e.join(Ce.LF)+Ce.LF+Ce.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){let e=this.binaryBody;return e?e.length:0}static sizeOfUTF8(e){return e?new TextEncoder().encode(e).length:0}static toUnit8Array(e,s){let t=new TextEncoder().encode(e),i=new Uint8Array([0]),r=new Uint8Array(t.length+s.length+i.length);return r.set(t),r.set(s,t.length),r.set(i,t.length+s.length),r}static marshall(e){return new n(e).serialize()}static hdrValueEscape(e){return e.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(e){return e.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}};var gt=class{constructor(e,s){this.onFrame=e,this.onIncomingPing=s,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(e,s=!1){let t;if(e instanceof ArrayBuffer?t=new Uint8Array(e):t=this._encoder.encode(e),s&&t[t.length-1]!==0){let i=new Uint8Array(t.length+1);i.set(t,0),i[t.length]=0,t=i}for(let i=0;i<t.length;i++){let r=t[i];this._onByte(r)}}_collectFrame(e){if(e!==0&&e!==13){if(e===10){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(e)}}_collectCommand(e){if(e!==13){if(e===10){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(e)}}_collectHeaders(e){if(e!==13){if(e===10){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(e)}}_reinjectByte(e){this._onByte(e)}_collectHeaderKey(e){if(e===58){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(e)}_collectHeaderValue(e){if(e!==13){if(e===10){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(e)}}_setupCollectBody(){let e=this._results.headers.filter(s=>s[0]==="content-length")[0];e?(this._bodyBytesRemaining=parseInt(e[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(e){if(e===0){this._retrievedBody();return}this._consumeByte(e)}_collectBodyFixedSize(e){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(e)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw(),this.onFrame(this._results),this._initState()}_consumeByte(e){this._token.push(e)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){let e=new Uint8Array(this._token);return this._token=[],e}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}};var X=function(n){return n[n.CONNECTING=0]="CONNECTING",n[n.OPEN=1]="OPEN",n[n.CLOSING=2]="CLOSING",n[n.CLOSED=3]="CLOSED",n}(X||{}),G=function(n){return n[n.ACTIVE=0]="ACTIVE",n[n.DEACTIVATING=1]="DEACTIVATING",n[n.INACTIVE=2]="INACTIVE",n}(G||{});var w=class{constructor(e){this.versions=e}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(e=>`v${e.replace(".","")}.stomp`)}};w.V1_0="1.0";w.V1_1="1.1";w.V1_2="1.2";w.default=new w([w.V1_0,w.V1_1,w.V1_2]);function tn(n,e){n.terminate=function(){let s=()=>{};this.onerror=s,this.onmessage=s,this.onopen=s;let t=new Date,i=this.onclose;this.onclose=r=>{let l=new Date().getTime()-t.getTime();e(`Discarded socket closed after ${l}ms, with code/reason: ${r.code}/${r.reason}`)},this.close(),i.call(this,{code:4001,reason:"Heartbeat failure, discarding the socket",wasClean:!1})}}var vt=class{constructor(e,s,t={}){this._client=e,this._webSocket=s,this._serverFrameHandlers={CONNECTED:i=>{this.debug(`connected to server ${i.headers.server}`),this._connected=!0,this._connectedVersion=i.headers.version,this._connectedVersion===w.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(i.headers),this.onConnect(i)},MESSAGE:i=>{let r=i.headers.subscription,l=this._subscriptions[r]||this.onUnhandledMessage,d=i,h=this,m=this._connectedVersion===w.V1_2?d.headers.ack:d.headers["message-id"];d.ack=(f={})=>h.ack(m,r,f),d.nack=(f={})=>h.nack(m,r,f),l(d)},RECEIPT:i=>{let r=this._receiptWatchers[i.headers["receipt-id"]];r?(r(i),delete this._receiptWatchers[i.headers["receipt-id"]]):this.onUnhandledReceipt(i)},ERROR:i=>{this.onStompError(i)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.configure(t)}get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}configure(e){Object.assign(this,e)}start(){let e=new gt(s=>{let t=Ye.fromRawFrame(s,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${t}`),(this._serverFrameHandlers[t.command]||this.onUnhandledFrame)(t)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=s=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){let t=s.data instanceof ArrayBuffer?new TextDecoder().decode(s.data):s.data;this.debug(`<<< ${t}`)}e.parseChunk(s.data,this.appendMissingNULLonIncoming)},this._onclose=s=>{this.debug(`Connection closed to ${this._client.brokerURL}`),this._cleanUp(),this.onWebSocketClose(s)},this._webSocket.onclose=this._onclose,this._webSocket.onerror=s=>{this.onWebSocketError(s)},this._webSocket.onopen=()=>{let s=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),s["accept-version"]=this.stompVersions.supportedVersions(),s["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:s})}}_setupHeartbeat(e){if(e.version!==w.V1_1&&e.version!==w.V1_2||!e["heart-beat"])return;let[s,t]=e["heart-beat"].split(",").map(i=>parseInt(i,10));if(this.heartbeatOutgoing!==0&&t!==0){let i=Math.max(this.heartbeatOutgoing,t);this.debug(`send PING every ${i}ms`),this._pinger=setInterval(()=>{this._webSocket.readyState===X.OPEN&&(this._webSocket.send(Ce.LF),this.debug(">>> PING"))},i)}if(this.heartbeatIncoming!==0&&s!==0){let i=Math.max(this.heartbeatIncoming,s);this.debug(`check PONG every ${i}ms`),this._ponger=setInterval(()=>{let r=Date.now()-this._lastServerActivityTS;r>i*2&&(this.debug(`did not receive server activity for the last ${r}ms`),this._closeOrDiscardWebsocket())},i)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this._discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===X.CONNECTING||this._webSocket.readyState===X.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}_discardWebsocket(){this._webSocket.terminate||tn(this._webSocket,e=>this.debug(e)),this._webSocket.terminate()}_transmit(e){let{command:s,headers:t,body:i,binaryBody:r,skipContentLengthHeader:l}=e,d=new Ye({command:s,headers:t,body:i,binaryBody:r,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:l}),h=d.serialize();if(this.logRawCommunication?this.debug(`>>> ${h}`):this.debug(`>>> ${d}`),this.forceBinaryWSFrames&&typeof h=="string"&&(h=new TextEncoder().encode(h)),typeof h!="string"||!this.splitLargeFrames)this._webSocket.send(h);else{let m=h;for(;m.length>0;){let f=m.substring(0,this.maxWebSocketChunkSize);m=m.substring(this.maxWebSocketChunkSize),this._webSocket.send(f),this.debug(`chunk sent = ${f.length}, remaining = ${m.length}`)}}}dispose(){if(this.connected)try{let e=Object.assign({},this.disconnectHeaders);e.receipt||(e.receipt=`close-${this._counter++}`),this.watchForReceipt(e.receipt,s=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(s)}),this._transmit({command:"DISCONNECT",headers:e})}catch(e){this.debug(`Ignoring error during disconnect ${e}`)}else(this._webSocket.readyState===X.CONNECTING||this._webSocket.readyState===X.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&clearInterval(this._pinger),this._ponger&&clearInterval(this._ponger)}publish(e){let{destination:s,headers:t,body:i,binaryBody:r,skipContentLengthHeader:l}=e,d=Object.assign({destination:s},t);this._transmit({command:"SEND",headers:d,body:i,binaryBody:r,skipContentLengthHeader:l})}watchForReceipt(e,s){this._receiptWatchers[e]=s}subscribe(e,s,t={}){t=Object.assign({},t),t.id||(t.id=`sub-${this._counter++}`),t.destination=e,this._subscriptions[t.id]=s,this._transmit({command:"SUBSCRIBE",headers:t});let i=this;return{id:t.id,unsubscribe(r){return i.unsubscribe(t.id,r)}}}unsubscribe(e,s={}){s=Object.assign({},s),delete this._subscriptions[e],s.id=e,this._transmit({command:"UNSUBSCRIBE",headers:s})}begin(e){let s=e||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:s}});let t=this;return{id:s,commit(){t.commit(s)},abort(){t.abort(s)}}}commit(e){this._transmit({command:"COMMIT",headers:{transaction:e}})}abort(e){this._transmit({command:"ABORT",headers:{transaction:e}})}ack(e,s,t={}){t=Object.assign({},t),this._connectedVersion===w.V1_2?t.id=e:t["message-id"]=e,t.subscription=s,this._transmit({command:"ACK",headers:t})}nack(e,s,t={}){return t=Object.assign({},t),this._connectedVersion===w.V1_2?t.id=e:t["message-id"]=e,t.subscription=s,this._transmit({command:"NACK",headers:t})}};var nn=function(n,e,s,t){function i(r){return r instanceof s?r:new s(function(l){l(r)})}return new(s||(s=Promise))(function(r,l){function d(f){try{m(t.next(f))}catch(g){l(g)}}function h(f){try{m(t.throw(f))}catch(g){l(g)}}function m(f){f.done?r(f.value):i(f.value).then(d,h)}m((t=t.apply(n,e||[])).next())})},yt=class{constructor(e={}){this.stompVersions=w.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.state=G.INACTIVE;let s=()=>{};this.debug=s,this.beforeConnect=s,this.onConnect=s,this.onDisconnect=s,this.onUnhandledMessage=s,this.onUnhandledReceipt=s,this.onUnhandledFrame=s,this.onStompError=s,this.onWebSocketClose=s,this.onWebSocketError=s,this.logRawCommunication=!1,this.onChangeState=s,this.connectHeaders={},this._disconnectHeaders={},this.configure(e)}get webSocket(){return this._stompHandler?this._stompHandler._webSocket:void 0}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(e){this._disconnectHeaders=e,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===G.ACTIVE}_changeState(e){this.state=e,this.onChangeState(e)}configure(e){Object.assign(this,e)}activate(){if(this.state===G.DEACTIVATING)throw this.debug("Still DEACTIVATING, please await call to deactivate before trying to re-activate"),new Error("Still DEACTIVATING, can not activate now");if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(G.ACTIVE),this._connect()}_connect(){return nn(this,void 0,void 0,function*(){if(this.connected){this.debug("STOMP: already connected, nothing to do");return}if(yield this.beforeConnect(),!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");let e=this._createWebSocket();this._stompHandler=new vt(this,e,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:s=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(s)},onDisconnect:s=>{this.onDisconnect(s)},onStompError:s=>{this.onStompError(s)},onWebSocketClose:s=>{this._stompHandler=void 0,this.state===G.DEACTIVATING&&(this._resolveSocketClose(),this._resolveSocketClose=void 0,this._changeState(G.INACTIVE)),this.onWebSocketClose(s),this.active&&this._schedule_reconnect()},onWebSocketError:s=>{this.onWebSocketError(s)},onUnhandledMessage:s=>{this.onUnhandledMessage(s)},onUnhandledReceipt:s=>{this.onUnhandledReceipt(s)},onUnhandledFrame:s=>{this.onUnhandledFrame(s)}}),this._stompHandler.start()})}_createWebSocket(){let e;return this.webSocketFactory?e=this.webSocketFactory():e=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions()),e.binaryType="arraybuffer",e}_schedule_reconnect(){this.reconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this.reconnectDelay}ms`),this._reconnector=setTimeout(()=>{this._connect()},this.reconnectDelay))}deactivate(){return nn(this,void 0,void 0,function*(){let e;if(this.state!==G.ACTIVE)return this.debug(`Already ${G[this.state]}, ignoring call to deactivate`),Promise.resolve();if(this._changeState(G.DEACTIVATING),this._reconnector&&clearTimeout(this._reconnector),this._stompHandler&&this.webSocket.readyState!==X.CLOSED)e=new Promise((s,t)=>{this._resolveSocketClose=s});else return this._changeState(G.INACTIVE),Promise.resolve();return this._disposeStompHandler(),e})}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&(this._stompHandler.dispose(),this._stompHandler=null)}publish(e){this._stompHandler.publish(e)}watchForReceipt(e,s){this._stompHandler.watchForReceipt(e,s)}subscribe(e,s,t={}){return this._stompHandler.subscribe(e,s,t)}unsubscribe(e,s={}){this._stompHandler.unsubscribe(e,s)}begin(e){return this._stompHandler.begin(e)}commit(e){this._stompHandler.commit(e)}abort(e){this._stompHandler.abort(e)}ack(e,s,t={}){this._stompHandler.ack(e,s,t)}nack(e,s,t={}){this._stompHandler.nack(e,s,t)}};var V=function(n){return n[n.CONNECTING=0]="CONNECTING",n[n.OPEN=1]="OPEN",n[n.CLOSING=2]="CLOSING",n[n.CLOSED=3]="CLOSED",n}(V||{});var sn=function(n,e,s,t){function i(r){return r instanceof s?r:new s(function(l){l(r)})}return new(s||(s=Promise))(function(r,l){function d(f){try{m(t.next(f))}catch(g){l(g)}}function h(f){try{m(t.throw(f))}catch(g){l(g)}}function m(f){f.done?r(f.value):i(f.value).then(d,h)}m((t=t.apply(n,e||[])).next())})},bt=class{constructor(e){this._queuedMessages=[];let s=e||new yt;this._stompClient=s;let t=()=>{};this._beforeConnect=t,this._correlateErrors=()=>{},this._debug=t,this._connectionStatePre$=new He(V.CLOSED),this._connectedPre$=this._connectionStatePre$.pipe(W(i=>i===V.OPEN)),this.connectionState$=new He(V.CLOSED),this.connected$=this.connectionState$.pipe(W(i=>i===V.OPEN)),this.connected$.subscribe(()=>{this._sendQueuedMessages()}),this._serverHeadersBehaviourSubject$=new He(null),this.serverHeaders$=this._serverHeadersBehaviourSubject$.pipe(W(i=>i!==null)),this.stompErrors$=new S,this.unhandledMessage$=new S,this.unhandledReceipts$=new S,this.unhandledFrame$=new S,this.webSocketErrors$=new S}get stompClient(){return this._stompClient}configure(e){let s=Object.assign({},e);s.beforeConnect&&(this._beforeConnect=s.beforeConnect,delete s.beforeConnect),s.correlateErrors&&(this._correlateErrors=s.correlateErrors,delete s.correlateErrors),this._stompClient.configure(s),s.debug&&(this._debug=s.debug)}activate(){this._stompClient.configure({beforeConnect:()=>sn(this,void 0,void 0,function*(){this._changeState(V.CONNECTING),yield this._beforeConnect(this)}),onConnect:e=>{this._serverHeadersBehaviourSubject$.next(e.headers),this._changeState(V.OPEN)},onStompError:e=>{this.stompErrors$.next(e)},onWebSocketClose:()=>{this._changeState(V.CLOSED)},onUnhandledMessage:e=>{this.unhandledMessage$.next(e)},onUnhandledReceipt:e=>{this.unhandledReceipts$.next(e)},onUnhandledFrame:e=>{this.unhandledFrame$.next(e)},onWebSocketError:e=>{this.webSocketErrors$.next(e)}}),this._stompClient.activate()}deactivate(){return sn(this,void 0,void 0,function*(){this._changeState(V.CLOSING),yield this._stompClient.deactivate(),this._changeState(V.CLOSED)})}connected(){return this.connectionState$.getValue()===V.OPEN}get active(){return this.stompClient.active}publish(e){let s=e.retryIfDisconnected==null?!0:e.retryIfDisconnected;if(this.connected())this._stompClient.publish(e);else if(s)this._debug("Not connected, queueing"),this._queuedMessages.push(e);else throw new Error("Cannot publish while broker is not connected")}_sendQueuedMessages(){let e=this._queuedMessages;if(this._queuedMessages=[],e.length!==0){this._debug(`Will try sending  ${e.length} queued message(s)`);for(let s of e)this._debug(`Attempting to send ${s}`),this.publish(s)}}watch(e,s={}){let t={subHeaders:{},unsubHeaders:{},subscribeOnlyOnce:!1},i;return typeof e=="string"?i=Object.assign({},t,{destination:e,subHeaders:s}):i=Object.assign({},t,e),this._debug(`Request to subscribe ${i.destination}`),qe.create(l=>{let d,h,m=this._connectedPre$;i.subscribeOnlyOnce&&(m=m.pipe(me(1)));let f=this.stompErrors$.subscribe(g=>{this._correlateErrors(g)===i.destination&&l.error(g)});return h=m.subscribe(()=>{this._debug(`Will subscribe to ${i.destination}`);let g=i.subHeaders;typeof g=="function"&&(g=g()),d=this._stompClient.subscribe(i.destination,U=>{l.next(U)},g)}),()=>{if(this._debug(`Stop watching connection state (for ${i.destination})`),h.unsubscribe(),f.unsubscribe(),this.connected()){this._debug(`Will unsubscribe from ${i.destination} at Stomp`);let g=i.unsubHeaders;typeof g=="function"&&(g=g()),d.unsubscribe(g)}else this._debug(`Stomp not connected, no need to unsubscribe from ${i.destination} at Stomp`)}}).pipe(ei())}watchForReceipt(e,s){this._stompClient.watchForReceipt(e,s)}_changeState(e){this._connectionStatePre$.next(e),this.connectionState$.next(e)}};var fe={CLOSED:0,TRYING:1,CONNECTED:2,DISCONNECTING:3};fe[fe.CLOSED]="CLOSED";fe[fe.TRYING]="TRYING";fe[fe.CONNECTED]="CONNECTED";fe[fe.DISCONNECTING]="DISCONNECTING";var Ot=class extends bt{};var Ve=(()=>{let e=class e{constructor(){this.rxStompService=new Ot,this.rxStompService.configure(this.myRxStompConfig()),this.rxStompService.activate()}myRxStompConfig(){return{brokerURL:mt.wsUrl,heartbeatIncoming:0,heartbeatOutgoing:2e4,reconnectDelay:200,debug:t=>{console.log(new Date,t)}}}watchOrders(){return this.rxStompService.watch("/topic/orders")}sendCreateOrder(t){this.rxStompService.publish({destination:"/app/orders/create",body:JSON.stringify(t)})}sendUpdateOrder(t){this.rxStompService.publish({destination:"/app/orders/update",body:JSON.stringify(t)})}sendDeleteOrder(t){this.rxStompService.publish({destination:`/orders/delete/${t}`})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var es=n=>({"background-color":n});function ts(n,e){if(n&1&&(a(0,"tr")(1,"td"),c(2),o(),a(3,"td"),c(4),o(),a(5,"td"),c(6),o(),a(7,"td",36),c(8),o(),a(9,"td"),c(10),P(11,"date"),o(),a(12,"td"),c(13),o()()),n&2){let s=e.$implicit,t=O();u(2),_(s.id),u(2),_(s.nr),u(2),_(s.cliente),u(),b("ngStyle",Nt(10,es,t.getPriorityColor(s.prioridade))),u(),ie(" ",s.prioridade," "),u(2),_(B(11,7,s.dataH,"dd/MM HH:mm")),u(3),_(t.getStatusDescription(s.status))}}var rn=(()=>{let e=class e{constructor(t,i,r){this.formBuilder=t,this.orderService=i,this.websocketService=r,this.orders=[],this.selectedOrder=null,this.createOrderForm=this.formBuilder.group({nr:["",D.required],cliente:["",D.required],prioridade:["",D.required],dataEntrega:[new Date,D.required],dataH:[""]}),this.editOrderForm=this.formBuilder.group({id:[""],nr:["",D.required],cliente:["",D.required],prioridade:["",D.required],dataEntrega:[new Date,D.required],status:[""],entregador:[""],observacao:[""],dataH:[""]})}ngOnDestroy(){this.ordersSubscription?.unsubscribe()}ngOnInit(){this.loadOrders(),this.listenForWebSocketUpdates()}loadOrders(){this.orderService.getOrders().subscribe(t=>{this.orders=t.filter(i=>i.status===0||i.status===1),this.orders.sort((i,r)=>this.comparePriorities(i.prioridade,r.prioridade))})}listenForWebSocketUpdates(){this.websocketService.watchOrders().subscribe(t=>{let i=JSON.parse(t.body),r=i;i.action==="delete"?this.orders=this.orders.filter(l=>l.id!==r.id):this.updateOrdersList(r)})}openCreateOrderModal(){this.createOrderForm.reset(),new window.bootstrap.Modal(document.getElementById("createOrderModal")).show()}openEditOrderModal(t){this.selectedOrder=t,this.editOrderForm.patchValue({nr:t.nr,cliente:t.cliente,prioridade:t.prioridade,dataEntrega:t.dataEntrega}),new window.bootstrap.Modal(document.getElementById("editOrderModal")).show()}closeModal(t){let i=document.getElementById(t);i&&new window.bootstrap.Modal(i).hide()}createOrder(){let t=this.createOrderForm.value;this.orderService.createOrder(t).subscribe(()=>{this.createOrderForm.reset(),this.closeModal("createOrderModal"),this.loadOrders()})}updateOrder(){if(this.editOrderForm.valid){let t=C(C({},this.editingOrder),this.editOrderForm.value);this.orderService.updateOrder(t.id,t).subscribe({next:i=>{console.log("Pedido atualizado com sucesso:",i),this.loadOrders(),this.editOrderForm.reset(),this.editingOrder=void 0,this.closeModal("editOrderModal")},error:i=>{console.error("Erro ao atualizar o pedido:",i)}})}}delete(t){confirm("Tem certeza que deseja excluir este pedido?")&&this.orderService.deleteOrder(t).subscribe(()=>{this.orders=this.orders.filter(i=>i.id!==t)})}updateOrdersList(t){let i=this.orders.findIndex(r=>r.id===t.id);i!==-1?this.orders[i]=t:this.orders.push(t),this.orders.sort((r,l)=>this.comparePriorities(r.prioridade,l.prioridade))}comparePriorities(t,i){let r=["Vermelho","Amarelo","Azul","Verde"];return r.indexOf(t)-r.indexOf(i)}getPriorityColor(t){switch(t){case"Vermelho":return"red";case"Amarelo":return"orange";case"Azul":return"blue";case"Verde":return"green";default:return"black"}}getStatusDescription(t){switch(t){case 0:return"Em Produ\xE7\xE3o";case 1:return"Cortada";case 2:return"Pronto para Entrega";case 3:return"Saiu para Entrega";case 4:return"Retirada";case 5:return"Entregue";default:return"Desconhecido"}}};e.\u0275fac=function(i){return new(i||e)(p(de),p(pe),p(Ve))},e.\u0275cmp=F({type:e,selectors:[["app-orders"]],standalone:!0,features:[k],decls:102,vars:3,consts:[[1,"container","mt-4"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"row","mb-3"],[1,"col-6","col-md-3"],[1,"badge","bg-danger"],[1,"badge","bg-warning","text-dark"],[1,"badge","bg-primary"],[1,"badge","bg-success"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["id","createOrderModal","tabindex","-1","aria-labelledby","createOrderModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","createOrderModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","nr",1,"form-label"],["type","text","id","nr","formControlName","nr",1,"form-control"],["for","cliente",1,"form-label"],["type","text","id","cliente","formControlName","cliente",1,"form-control"],["for","prioridade",1,"form-label"],["formControlName","prioridade","id","prioridade",1,"form-control"],["value","Vermelho"],["value","Amarelo"],["value","Azul"],["value","Verde"],["for","dataH",1,"form-label"],["type","datetime-local","id","dataH","formControlName","dataH",1,"form-control"],["type","submit",1,"btn","btn-primary"],["id","editOrderModal","tabindex","-1","aria-labelledby","editOrderModalLabel","aria-hidden","true",1,"modal","fade"],["id","editOrderModalLabel",1,"modal-title"],["type","text","id","prioridade","formControlName","prioridade",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"click"],[3,"ngStyle"]],template:function(i,r){i&1&&(a(0,"div",0),y(1,"div",1),a(2,"div",2)(3,"div",3)(4,"p")(5,"span",4),c(6,"\u25CF"),o(),c(7," Alta Prioridade"),o()(),a(8,"div",3)(9,"p")(10,"span",5),c(11,"\u25CF"),o(),c(12," M\xE9dia Prioridade"),o()(),a(13,"div",3)(14,"p")(15,"span",6),c(16,"\u25CF"),o(),c(17," Baixa Prioridade"),o()(),a(18,"div",3)(19,"p")(20,"span",7),c(21,"\u25CF"),o(),c(22," Muito Baixa Prioridade"),o()()(),a(23,"table",8)(24,"thead")(25,"tr")(26,"th"),c(27,"ID"),o(),a(28,"th"),c(29,"nr"),o(),a(30,"th"),c(31,"cliente"),o(),a(32,"th"),c(33,"prioridade"),o(),a(34,"th"),c(35,"dataHora"),o(),a(36,"th"),c(37,"status"),o()()(),a(38,"tbody"),M(39,ts,14,12,"tr",9),o()()(),a(40,"div",10)(41,"div",11)(42,"div",12)(43,"div",13)(44,"h5",14),c(45,"Novo Pedido"),o(),y(46,"button",15),o(),a(47,"div",16)(48,"form",17),v("ngSubmit",function(){return r.createOrder()}),a(49,"div",18)(50,"label",19),c(51,"N\xFAmero"),o(),y(52,"input",20),o(),a(53,"div",18)(54,"label",21),c(55,"Cliente"),o(),y(56,"input",22),o(),a(57,"div",18)(58,"label",23),c(59,"Prioridade"),o(),a(60,"select",24)(61,"option",25),c(62,"Vermelho"),o(),a(63,"option",26),c(64,"Amarelo"),o(),a(65,"option",27),c(66,"Azul"),o(),a(67,"option",28),c(68,"Verde"),o()()(),a(69,"div",18)(70,"label",29),c(71,"Data e Hora"),o(),y(72,"input",30),o(),a(73,"button",31),c(74,"Criar Pedido"),o()()()()()(),a(75,"div",32)(76,"div",11)(77,"div",12)(78,"div",13)(79,"h5",33),c(80,"Editar Pedido"),o(),y(81,"button",15),o(),a(82,"div",16)(83,"form",17),v("ngSubmit",function(){return r.updateOrder()}),a(84,"div",18)(85,"label",19),c(86,"N\xFAmero"),o(),y(87,"input",20),o(),a(88,"div",18)(89,"label",21),c(90,"Cliente"),o(),y(91,"input",22),o(),a(92,"div",18)(93,"label",23),c(94,"Prioridade"),o(),y(95,"input",34),o(),a(96,"div",18)(97,"label",29),c(98,"Data e Hora"),o(),y(99,"input",30),o(),a(100,"button",35),v("click",function(){return r.updateOrder()}),c(101,"Atualizar Pedido"),o()()()()()()),i&2&&(u(39),b("ngForOf",r.orders),u(9),b("formGroup",r.createOrderForm),u(35),b("formGroup",r.editOrderForm))},dependencies:[se,q,hi,ne,ue,le,ke,Pe,L,ce,oe,ae,he,J,K],styles:[".btn[_ngcontent-%COMP%]{margin:5px}.container[_ngcontent-%COMP%]{min-height:100vh}"]});let n=e;return n})();var on=(()=>{let e=class e{constructor(){this.title="organizer-front",this.showFooter=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=F({type:e,selectors:[["app-root"]],standalone:!0,features:[k],decls:25,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],["href","#","id","nameBar",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["href","/pedidos","routerLinkActive","active",1,"nav-link"],["href","/entrega","routerLinkActive","active",1,"nav-link"],["href","/entregaVolta","routerLinkActive","active",1,"nav-link"],["href","/entregues","routerLinkActive","active",1,"nav-link"],[1,"container","mt-3"],[1,"footer","text-center","text-white","py-3","mt-5","mx-0","bg-dark"],["href","http://github.com/yannynz"]],template:function(i,r){i&1&&(a(0,"nav",0)(1,"a",1),c(2,"Organizador"),o(),a(3,"button",2),y(4,"span",3),o(),a(5,"div",4)(6,"ul",5)(7,"li",6)(8,"a",7),c(9,"Pedidos"),o()(),a(10,"li",6)(11,"a",8),c(12,"Entrega"),o()(),a(13,"li")(14,"a",9),c(15,"EntregaVolta"),o()(),a(16,"li",6)(17,"a",10),c(18,"Entregues"),o()()()()(),a(19,"div",11),y(20,"router-outlet"),o(),a(21,"footer",12),c(22," \xA9 2024 "),a(23,"a",13),c(24,"Yann Santana"),o()())},dependencies:[bi],styles:["#nameBar[_ngcontent-%COMP%]{margin-left:10px}.footer[_ngcontent-%COMP%]{text-align:center;background-color:#f1f1f1;padding:10px}body[_ngcontent-%COMP%]{min-height:100vh;position:relative}"]});let n=e;return n})();var is=["*"];var ns=["dialog"];function an(n){return typeof n=="string"}function Ut(n){return n!=null}function ss(n){return n&&n.then}function ln(n){return(n||document.body).getBoundingClientRect()}function rs(n){return e=>new qe(s=>{let t=l=>n.run(()=>s.next(l)),i=l=>n.run(()=>s.error(l)),r=()=>n.run(()=>s.complete());return e.subscribe({next:t,error:i,complete:r})})}function os(n){let{transitionDelay:e,transitionDuration:s}=window.getComputedStyle(n),t=parseFloat(e),i=parseFloat(s);return(t+i)*1e3}var cn={animation:!0,transitionTimerDelayMs:5},as=()=>{},{transitionTimerDelayMs:ls}=cn,Dt=new Map,we=(n,e,s,t)=>{let i=t.context||{},r=Dt.get(e);if(r)switch(t.runningTransition){case"continue":return Yt;case"stop":n.run(()=>r.transition$.complete()),i=Object.assign(r.context,i),Dt.delete(e)}let l=s(e,t.animation,i)||as;if(!t.animation||window.getComputedStyle(e).transitionProperty==="none")return n.run(()=>l()),St(void 0).pipe(rs(n));let d=new S,h=new S,m=d.pipe(Xt(!0));Dt.set(e,{transition$:d,complete:()=>{h.next(),h.complete()},context:i});let f=os(e);return n.runOutsideAngular(()=>{let g=z(e,"transitionend").pipe(A(m),W(({target:H})=>H===e)),U=Jt(f+ls).pipe(A(m));Kt(U,g,h).pipe(A(m)).subscribe(()=>{Dt.delete(e),n.run(()=>{l(),d.next(),d.complete()})})}),d.asObservable()};var cs=(()=>{let e=class e{constructor(){this.animation=cn.animation}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var zt=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(zt||{});var ta=(()=>{let n=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(n()||e()):!1})();var ds=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function dn(n){let e=Array.from(n.querySelectorAll(ds)).filter(s=>s.tabIndex!==-1);return[e[0],e[e.length-1]]}var us=(n,e,s,t=!1)=>{n.runOutsideAngular(()=>{let i=z(e,"focusin").pipe(A(s),je(r=>r.target));z(e,"keydown").pipe(A(s),W(r=>r.which===zt.Tab),Et(i)).subscribe(([r,l])=>{let[d,h]=dn(e);(l===d||l===e)&&r.shiftKey&&(h.focus(),r.preventDefault()),l===h&&!r.shiftKey&&(d.focus(),r.preventDefault())}),t&&z(e,"click").pipe(A(s),Et(i),je(r=>r[1])).subscribe(r=>r.focus())})};var ia=new Date(1882,10,12),na=new Date(2174,10,25);var sa=1e3*60*60*24;var Wt=1080,hs=24*Wt,ps=12*Wt+793,ra=29*hs+ps,oa=11*Wt+204;var Be=class{constructor(e,s,t){this.nodes=e,this.viewRef=s,this.componentRef=t}};var fs=(()=>{let e=class e{constructor(t,i){this._el=t,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(me(1)).subscribe(()=>{we(this._zone,this._el.nativeElement,(t,i)=>{i&&ln(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return we(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}};e.\u0275fac=function(i){return new(i||e)(p(Y),p(ge))},e.\u0275cmp=F({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){i&2&&(tt("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),Ne("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[k],decls:0,vars:0,template:function(i,r){},encapsulation:2});let n=e;return n})(),Ct=class{update(e){}close(e){}dismiss(e){}},ms=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],_s=["animation","backdropClass"],$t=class{_applyWindowOptions(e,s){ms.forEach(t=>{Ut(s[t])&&(e[t]=s[t])})}_applyBackdropOptions(e,s){_s.forEach(t=>{Ut(s[t])&&(e[t]=s[t])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(A(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(A(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,s,t,i){this._windowCmptRef=e,this._contentRef=s,this._backdropCmptRef=t,this._beforeDismiss=i,this._closed=new S,this._dismissed=new S,this._hidden=new S,e.instance.dismissEvent.subscribe(r=>{this.dismiss(r)}),this.result=new Promise((r,l)=>{this._resolve=r,this._reject=l}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(e);else{let s=this._beforeDismiss();ss(s)?s.then(t=>{t!==!1&&this._dismiss(e)},()=>{}):s!==!1&&this._dismiss(e)}}_removeModalElements(){let e=this._windowCmptRef.instance.hide(),s=this._backdropCmptRef?this._backdropCmptRef.instance.hide():St(void 0);e.subscribe(()=>{let{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),s.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Qe(e,s).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},Lt=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(Lt||{}),gs=(()=>{let e=class e{constructor(t,i,r){this._document=t,this._elRef=i,this._zone=r,this._closed$=new S,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new ee,this.shown=new S,this.hidden=new S}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":an(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(me(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},r=we(this._zone,t,()=>t.classList.remove("show"),i),l=we(this._zone,this._dialogEl.nativeElement,()=>{},i),d=Qe(r,l);return d.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),d}_show(){let t={animation:this.animation,runningTransition:"continue"},i=we(this._zone,this._elRef.nativeElement,(l,d)=>{d&&ln(l),l.classList.add("show")},t),r=we(this._zone,this._dialogEl.nativeElement,()=>{},t);Qe(i,r).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{z(t,"keydown").pipe(A(this._closed$),W(r=>r.which===zt.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(Lt.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let i=!1;z(this._dialogEl.nativeElement,"mousedown").pipe(A(this._closed$),ii(()=>i=!1),ti(()=>z(t,"mouseup").pipe(A(this._closed$),me(1))),W(({target:r})=>t===r)).subscribe(()=>{i=!0}),z(t,"click").pipe(A(this._closed$)).subscribe(({target:r})=>{t===r&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!i&&this._zone.run(()=>this.dismiss(Lt.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){let i=t.querySelector("[ngbAutofocus]"),r=dn(t)[0];(i||r||t).focus()}}_restoreFocus(){let t=this._document.body,i=this._elWithFocus,r;i&&i.focus&&t.contains(i)?r=i:r=t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&we(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}};e.\u0275fac=function(i){return new(i||e)(p(Ie),p(Y),p(ge))},e.\u0275cmp=F({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(i&1&&ve(ns,7),i&2){let l;ye(l=be())&&(r._dialogEl=l.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){i&2&&(Mt("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),tt("modal d-block"+(r.windowClass?" "+r.windowClass:"")),Ne("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[k],ngContentSelectors:is,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,r){i&1&&(li(),a(0,"div",1,0)(2,"div",2),ci(3),o()()),i&2&&tt("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2});let n=e;return n})(),vs=(()=>{let e=class e{constructor(t){this._document=t}hide(){let t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:l,paddingRight:d}=r;if(t>0){let h=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${h+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=d),r.overflow=l}}};e.\u0275fac=function(i){return new(i||e)(N(Ie))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),ys=(()=>{let e=class e{constructor(t,i,r,l,d,h,m){this._applicationRef=t,this._injector=i,this._environmentInjector=r,this._document=l,this._scrollBar=d,this._rendererFactory=h,this._ngZone=m,this._activeWindowCmptHasChanged=new S,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new ee,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let f=this._windowCmpts[this._windowCmpts.length-1];us(this._ngZone,f.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(f.location.nativeElement)}})}_restoreScrollBar(){let t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r){let l=r.container instanceof HTMLElement?r.container:Ut(r.container)?this._document.querySelector(r.container):this._document.body,d=this._rendererFactory.createRenderer(null,null);if(!l)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let h=new Ct;t=r.injector||t;let m=t.get(Ke,null)||this._environmentInjector,f=this._getContentRef(t,m,i,h,r),g=r.backdrop!==!1?this._attachBackdrop(l):void 0,U=this._attachWindowComponent(l,f.nodes),H=new $t(U,f,g,r.beforeDismiss);return this._registerModalRef(H),this._registerWindowCmpt(U),H.hidden.pipe(me(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(d.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),h.close=Ge=>{H.close(Ge)},h.dismiss=Ge=>{H.dismiss(Ge)},h.update=Ge=>{H.update(Ge)},H.update(r),this._modalRefs.length===1&&d.addClass(this._document.body,"modal-open"),g&&g.instance&&g.changeDetectorRef.detectChanges(),U.changeDetectorRef.detectChanges(),H}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=it(fs,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let r=it(gs,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_getContentRef(t,i,r,l,d){return r?r instanceof Tt?this._createFromTemplateRef(r,l):an(r)?this._createFromString(r):this._createFromComponent(t,i,r,l,d):new Be([])}_createFromTemplateRef(t,i){let r={$implicit:i,close(d){i.close(d)},dismiss(d){i.dismiss(d)}},l=t.createEmbeddedView(r);return this._applicationRef.attachView(l),new Be([l.rootNodes],l)}_createFromString(t){let i=this._document.createTextNode(`${t}`);return new Be([[i]])}_createFromComponent(t,i,r,l,d){let h=Te.create({providers:[{provide:Ct,useValue:l}],parent:t}),m=it(r,{environmentInjector:i,elementInjector:h}),f=m.location.nativeElement;return d.scrollable&&f.classList.add("component-host-scrollable"),this._applicationRef.attachView(m.hostView),new Be([[f]],m.hostView,m)}_setAriaHidden(t){let i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&r.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){let i=()=>{let r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{let i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}};e.\u0275fac=function(i){return new(i||e)(N(Rt),N(Te),N(Ke),N(Ie),N(vs),N(et),N(ge))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),bs=(()=>{let e=class e{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation===void 0?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}};e.\u0275fac=function(i){return new(i||e)(N(cs))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),wt=(()=>{let e=class e{constructor(t,i,r){this._injector=t,this._modalStack=i,this._config=r}open(t,i={}){let r=C(j(C({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}};e.\u0275fac=function(i){return new(i||e)(N(Te),N(ys),N(bs))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var aa=new Z("live announcer delay",{providedIn:"root",factory:Os});function Os(){return 100}var Ds=["deliveryModal"],Cs=["thankYouModal"];function ws(n,e){if(n&1){let s=x();a(0,"tr")(1,"td")(2,"input",8),v("change",function(i){let r=E(s).$implicit,l=O();return T(l.onOrderSelectionChange(r,i))}),o()(),a(3,"td"),c(4),o(),a(5,"td"),c(6),o(),a(7,"td"),c(8),o(),a(9,"td"),c(10),o(),a(11,"td"),c(12),P(13,"date"),o()()}if(n&2){let s=e.$implicit,t=O();u(4),_(s.id),u(2),_(s.nr),u(2),_(s.cliente),u(),te("color",t.getPriorityColor(s.prioridade)),u(),ie(" ",s.prioridade," "),u(2),_(B(13,7,s.dataH,"dd/MM HH:mm"))}}function Ss(n,e){if(n&1&&(a(0,"tr")(1,"td"),c(2),o(),a(3,"td"),c(4),o(),a(5,"td"),c(6),o(),a(7,"td"),c(8),o(),a(9,"td"),c(10),P(11,"date"),o()()),n&2){let s=e.$implicit,t=O(2);u(2),_(s.id),u(2),_(s.nr),u(2),_(s.cliente),u(),te("color",t.getPriorityColor(s.prioridade)),u(),ie(" ",s.prioridade," "),u(2),_(B(11,7,s.dataH,"dd/MM HH:mm"))}}function Es(n,e){n&1&&(a(0,"div",28),c(1," Nenhum pedido selecionado. "),o())}function Ts(n,e){n&1&&(a(0,"div",12)(1,"label",29),c(2,"Tipo de Ve\xEDculo"),o(),a(3,"select",30)(4,"option",21),c(5,"Escolha o tipo de ve\xEDculo"),o(),a(6,"option",31),c(7,"Strada"),o(),a(8,"option",32),c(9,"Twister"),o(),a(10,"option",33),c(11,"A p\xE9"),o(),a(12,"option",34),c(13,"Outro"),o()()())}function Ms(n,e){n&1&&(a(0,"div",12)(1,"label",35),c(2,"Ve\xEDculo Personalizado"),o(),y(3,"input",36),o())}function Ns(n,e){if(n&1){let s=x();a(0,"div",9)(1,"h5",10),c(2,"Entrega Confirmada"),o()(),a(3,"div",11),c(4," Obrigado por confirmar a entrega. Bom trabalho! "),o(),a(5,"div",25)(6,"button",27),v("click",function(){let i=E(s).$implicit;return T(i.close())}),c(7,"Fechar"),o()()}}function Rs(n,e){if(n&1){let s=x();a(0,"div",9)(1,"h5",10),c(2,"Confirmar Entrega"),o()(),a(3,"div",11)(4,"div",12)(5,"form",13)(6,"h5"),c(7,"Pedidos Selecionados:"),o(),a(8,"table",5)(9,"thead")(10,"tr")(11,"th",6),c(12,"Id"),o(),a(13,"th",6),c(14,"NR"),o(),a(15,"th",6),c(16,"Cliente"),o(),a(17,"th",6),c(18,"Prioridade"),o(),a(19,"th",6),c(20,"Data/Hora"),o()()(),a(21,"tbody"),M(22,Ss,12,10,"tr",7),o()(),M(23,Es,2,0,"div",14),a(24,"form",13)(25,"div",12)(26,"label",15),c(27,"Entregador"),o(),y(28,"input",16),o(),a(29,"div",12)(30,"label",17),c(31,"Observa\xE7\xF5es"),o(),y(32,"textarea",18),o(),a(33,"div",12)(34,"label",19),c(35,"Tipo de Entrega"),o(),a(36,"select",20)(37,"option",21),c(38,"Escolha o tipo de entrega"),o(),a(39,"option",22),c(40,"Sair para entrega"),o(),a(41,"option",23),c(42,"Retirada"),o()()(),M(43,Ts,14,0,"div",24)(44,Ms,4,0,"div",24),o(),a(45,"div",25)(46,"button",26),v("click",function(){let i=E(s).$implicit;return T(i.dismiss())}),c(47,"Cancelar"),o(),a(48,"button",27),v("click",function(){E(s);let i=O();return T(i.confirmDelivery())}),c(49,"Confirmar Entrega"),o()(),M(50,Ns,8,0,"ng-template",null,1,Re),o()()()}if(n&2){let s,t,i=O();u(5),b("formGroup",i.deliveryForm),u(17),b("ngForOf",i.selectedOrders),u(),b("ngIf",i.selectedOrders.length===0),u(),b("formGroup",i.deliveryForm),u(19),b("ngIf",((s=i.deliveryForm.get("deliveryType"))==null?null:s.value)==="Sair para entrega"),u(),b("ngIf",((t=i.deliveryForm.get("vehicleType"))==null?null:t.value)==="Outro")}}var hn=(()=>{let e=class e{constructor(t,i,r,l){this.orderService=t,this.fb=i,this.websocketService=r,this.modalService=l,this.orders=[],this.selectedOrders=[],this.deliveryForm=this.fb.group({deliveryPerson:["",D.required],notes:[""],deliveryType:["",D.required],vehicleType:[""],customVehicle:[""]})}ngOnInit(){this.loadOrders(),this.listenForNewOrders()}loadOrders(){this.orderService.getOrders().subscribe(t=>{this.orders=t.filter(i=>[0,1,2].includes(i.status)).sort((i,r)=>this.comparePriorities(i.prioridade,r.prioridade))})}listenForNewOrders(){this.websocketService.watchOrders().subscribe(t=>{let i=JSON.parse(t.body);this.updateOrdersList(i)})}updateOrdersList(t){let i=this.orders.findIndex(r=>r.id===t.id);i!==-1?this.orders[i]=t:this.orders.push(t),this.orders.sort((r,l)=>this.comparePriorities(r.prioridade,l.prioridade)),this.selectedOrders=[]}onOrderSelectionChange(t,i){i.target.checked?this.selectedOrders.push(t):this.selectedOrders=this.selectedOrders.filter(r=>r!==t)}preConfirmDelivery(){this.selectedOrders.length===0?alert("Nenhum pedido selecionado"):(this.deliveryForm.reset(),this.modalService.open(this.deliveryModal))}confirmDelivery(){if(this.deliveryForm.invalid){alert("Preencha todos os campos obrigat\xF3rios.");return}let t=this.deliveryForm.get("deliveryPerson")?.value,i=this.deliveryForm.get("notes")?.value,r=this.deliveryForm.get("deliveryType")?.value,l=this.deliveryForm.get("vehicleType"),d=this.deliveryForm.get("customVehicle"),h=l?.value==="Outro"?d?.value:l?.value,m=new Date,f;if(r==="Sair para entrega")f=3;else if(r==="Retirada")f=4;else{alert("Tipo de entrega inv\xE1lido.");return}this.selectedOrders.forEach(g=>{let U=j(C({},g),{entregador:t,observacao:i,status:f,dataEntrega:m,veiculo:h});this.orderService.updateOrder(g.id,U).subscribe(()=>{this.loadOrders()},H=>{alert(`Erro ao atualizar o pedido ${g.nr}: ${H}`)})}),this.modalService.dismissAll()}getPriorityColor(t){switch(t){case"Vermelho":return"red";case"Amarelo":return"orange";case"Azul":return"blue";case"Verde":return"green";default:return"black"}}comparePriorities(t,i){let r=["Alta","M\xE9dia","Baixa"];return r.indexOf(t)-r.indexOf(i)}removeFromSelection(t){this.selectedOrders=this.selectedOrders.filter(i=>i!==t)}};e.\u0275fac=function(i){return new(i||e)(p(pe),p(de),p(Ve),p(wt))},e.\u0275cmp=F({type:e,selectors:[["app-delivery"]],viewQuery:function(i,r){if(i&1&&(ve(Ds,5),ve(Cs,5)),i&2){let l;ye(l=be())&&(r.deliveryModal=l.first),ye(l=be())&&(r.thankYouModal=l.first)}},standalone:!0,features:[k],decls:23,vars:1,consts:[["deliveryModal",""],["thankYouModal",""],[1,"container"],[1,"d-flex","justify-content-end","mb-2"],[1,"btn","btn-primary",3,"click"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],["type","checkbox",3,"change"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"mb-3"],[3,"formGroup"],["class","text-muted mt-2",4,"ngIf"],["placeholder","insira sem nome com apenas letras minusculas e sem acento","for","deliveryPerson",1,"form-label"],["type","text","id","deliveryPerson","formControlName","deliveryPerson","placeholder","Nome do entregador",1,"form-control"],["for","notes",1,"form-label"],["id","notes","formControlName","notes","placeholder","Observa\xE7\xF5es sobre a entrega","rows","3",1,"form-control"],["for","deliveryType",1,"form-label"],["id","deliveryType","formControlName","deliveryType",1,"form-select"],["value","","disabled","","selected",""],["value","Sair para entrega"],["value","Retirada"],["class","mb-3",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"text-muted","mt-2"],["for","vehicleType",1,"form-label"],["id","vehicleType","formControlName","vehicleType",1,"form-select"],["value","Strada"],["value","Twister"],["value","A p\xE9"],["value","Outro"],["for","customVehicle",1,"form-label"],["type","text","id","customVehicle","formControlName","customVehicle","placeholder","Digite o ve\xEDculo",1,"form-control"]],template:function(i,r){if(i&1){let l=x();a(0,"div",2)(1,"div",3)(2,"button",4),v("click",function(){return E(l),T(r.preConfirmDelivery())}),c(3," Confirmar Pedido "),o()(),a(4,"table",5)(5,"thead")(6,"tr")(7,"th",6),c(8,"Selecionar"),o(),a(9,"th",6),c(10,"Id"),o(),a(11,"th",6),c(12,"NR"),o(),a(13,"th",6),c(14,"Cliente"),o(),a(15,"th",6),c(16,"Prioridade"),o(),a(17,"th",6),c(18,"DataHora"),o()()(),a(19,"tbody"),M(20,ws,14,10,"tr",7),o()()(),M(21,Rs,52,6,"ng-template",null,0,Re)}i&2&&(u(20),b("ngForOf",r.orders))},dependencies:[se,q,De,ne,ue,le,ke,Pe,L,ce,oe,ae,he,J,K],styles:[".container[_ngcontent-%COMP%]{min-height:100vh}"]});let n=e;return n})();var Is=["orderDetailsModal"];function As(n,e){if(n&1){let s=x();a(0,"tr")(1,"td"),c(2),o(),a(3,"td"),c(4),o(),a(5,"td"),c(6),o(),a(7,"td"),c(8),o(),a(9,"td"),c(10),P(11,"date"),o(),a(12,"td"),c(13),o(),a(14,"td"),c(15),o(),a(16,"td")(17,"button",10),v("click",function(){let i=E(s).$implicit,r=O(2);return T(r.openOrderDetails(i))}),c(18," Detalhes "),o()()()}if(n&2){let s=e.$implicit,t=O(2);u(2),_(s.id),u(2),_(s.nr),u(2),_(s.cliente),u(),te("color",t.getPriorityColor(s.prioridade)),u(),_(s.prioridade),u(2),_(B(11,9,s.dataH,"dd/MM HH:mm")),u(3),_(t.getStatusDescription(s.status)),u(2),_(s.entregador)}}function Fs(n,e){if(n&1&&(a(0,"div",5)(1,"table",6)(2,"thead",7)(3,"tr")(4,"th",8),c(5,"Id"),o(),a(6,"th",8),c(7,"NR"),o(),a(8,"th",8),c(9,"Cliente"),o(),a(10,"th",8),c(11,"Prioridade"),o(),a(12,"th",8),c(13,"Data de Entrada"),o(),a(14,"th",8),c(15,"Status"),o(),a(16,"th",8),c(17,"Entregador"),o(),a(18,"th",8),c(19,"A\xE7\xF5es"),o()()(),a(20,"tbody"),M(21,As,19,12,"tr",9),o()()()),n&2){let s=O();u(21),b("ngForOf",s.orders)}}function xs(n,e){if(n&1){let s=x();a(0,"div",11)(1,"h5",12),c(2,"Detalhes do Pedido"),o(),a(3,"button",13),v("click",function(){E(s);let i=O();return T(i.closeOrderDetails())}),o()(),a(4,"div",14)(5,"form",15)(6,"table",16)(7,"tbody")(8,"tr")(9,"th"),c(10,"NR"),o(),a(11,"td"),c(12),o()(),a(13,"tr")(14,"th"),c(15,"Cliente"),o(),a(16,"td"),c(17),o()(),a(18,"tr")(19,"th"),c(20,"Prioridade"),o(),a(21,"td")(22,"select",17)(23,"option",18),c(24,"Vermelho"),o(),a(25,"option",19),c(26,"Amarelo"),o(),a(27,"option",20),c(28,"Azul"),o(),a(29,"option",21),c(30,"Verde"),o()()()(),a(31,"tr")(32,"th"),c(33,"Observa\xE7\xF5es"),o(),a(34,"td"),y(35,"textarea",22),o()(),a(36,"tr")(37,"th"),c(38,"Data de Entrada"),o(),a(39,"td"),c(40),P(41,"date"),o()(),a(42,"tr")(43,"th"),c(44,"Data de Sa\xEDda"),o(),a(45,"td"),c(46),P(47,"date"),o()(),a(48,"tr")(49,"th"),c(50,"Data de Retorno"),o(),a(51,"td"),c(52),P(53,"date"),o()()()()()(),a(54,"div",23)(55,"button",24),v("click",function(){E(s);let i=O();return T(i.closeOrderDetails())}),c(56,"Fechar"),o(),a(57,"button",25),v("click",function(){E(s);let i=O();return T(i.updateOrder())}),c(58,"Atualizar"),o()()}if(n&2){let s,t,i,r,l,d=O();u(5),b("formGroup",d.editOrderForm),u(7),_((s=d.editOrderForm.get("nr"))==null?null:s.value),u(5),_((t=d.editOrderForm.get("cliente"))==null?null:t.value),u(23),_(B(41,6,(i=d.editOrderForm.get("dataH"))==null?null:i.value,"dd/MM/yyyy HH:mm")),u(6),_(B(47,9,(r=d.editOrderForm.get("dataEntrega"))==null?null:r.value,"dd/MM/yyyy HH:mm")),u(6),_(B(53,12,(l=d.editOrderForm.get("dataHRetorno"))==null?null:l.value,"dd/MM/yyyy HH:mm"))}}var pn=(()=>{let e=class e{constructor(t,i,r,l){this.orderService=t,this.fb=i,this.websocketService=r,this.modalService=l,this.allOrders=[],this.orders=[],this.selectedOrder=null,this.editOrderForm=this.fb.group({id:[""],nr:["",D.required],cliente:["",D.required],prioridade:["",D.required],status:["",D.required],observacao:[""],dataH:[""],dataEntrega:[""],dataHRetorno:[""]}),this.returnForm=this.fb.group({search:[""]})}ngOnInit(){this.loadOrders(),this.setupWebSocket(),console.log("Componente DeliveredComponent inicializado")}ngAfterViewInit(){this.orderDetailsModal&&console.log("Modal inicializado:",this.orderDetailsModal)}loadOrders(){this.orderService.getOrders().subscribe(t=>{this.allOrders=t,this.orders=t})}filterOrders(){let t=this.returnForm.get("search")?.value?.toLowerCase()||"";t&&!isNaN(+t)?this.orderService.getOrderById(+t).subscribe(i=>{this.orders=i?[i]:[]},()=>{this.orders=[]}):this.orders=this.allOrders.filter(i=>i.nr.toLowerCase().includes(t)||i.cliente.toLowerCase().includes(t)||i.prioridade.toLowerCase().includes(t))}setupWebSocket(){this.websocketService.watchOrders().subscribe(t=>{let i=JSON.parse(t.body),r=this.orders.findIndex(l=>l.id===i.id);r!==-1?this.orders[r]=i:this.orders.push(i)})}getPriorityColor(t){switch(t){case"Vermelho":return"red";case"Amarelo":return"yellow";case"Azul":return"blue";case"Verde":return"green";default:return"black"}}getStatusDescription(t){switch(t){case 0:return"Em Produ\xE7\xE3o";case 1:return"Cortada";case 2:return"Pronto para Entrega";case 3:return"Saiu para Entrega";case 4:return"Retirada";case 5:return"Entregue";default:return"Desconhecido"}}openOrderDetails(t){this.selectedOrder=t,this.editOrderForm.patchValue({id:t.id,nr:t.nr,cliente:t.cliente,prioridade:t.prioridade,status:t.status,observacao:t.observacao,dataH:t.dataH,dataEntrega:t.dataEntrega,dataHRetorno:t.dataHRetorno}),this.modalService.open(this.orderDetailsModal,{centered:!0})}closeOrderDetails(){this.selectedOrder=null,this.modalService.dismissAll()}deleteOrder(t){confirm("Tem certeza que deseja excluir este pedido?")&&this.orderService.deleteOrder(t.id).subscribe(()=>{this.orders=this.orders.filter(i=>i.id!==t.id),this.closeOrderDetails()})}updateOrder(){if(this.editOrderForm.valid){let t=C(C({},this.selectedOrder),this.editOrderForm.value);this.orderService.updateOrder(t.id,t).subscribe(()=>{let i=this.orders.findIndex(r=>r.id===t.id);i!==-1&&(this.orders[i]=t),this.closeOrderDetails()})}}};e.\u0275fac=function(i){return new(i||e)(p(pe),p(de),p(Ve),p(wt))},e.\u0275cmp=F({type:e,selectors:[["app-delivered"]],viewQuery:function(i,r){if(i&1&&ve(Is,5),i&2){let l;ye(l=be())&&(r.orderDetailsModal=l.first)}},standalone:!0,features:[k],decls:6,vars:2,consts:[["orderDetailsModal",""],[1,"container","py-4"],[1,"d-flex","justify-content-center","mb-4",3,"ngSubmit","formGroup"],[1,"input-group",2,"max-width","500px"],["class","table-responsive",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","table-striped","align-middle"],[1,"table-dark"],["scope","col"],[4,"ngFor","ngForOf"],[1,"btn","btn-outline-info","btn-sm",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"table","table-bordered"],["formControlName","prioridade",1,"form-control"],["value","Vermelho"],["value","Amarelo"],["value","Azul"],["value","Verde"],["formControlName","observacao",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(i,r){if(i&1){let l=x();a(0,"div",1)(1,"form",2),v("ngSubmit",function(){return E(l),T(r.filterOrders())}),y(2,"div",3),o(),M(3,Fs,22,1,"div",4)(4,xs,59,15,"ng-template",null,0,Re),o()}i&2&&(u(),b("formGroup",r.returnForm),u(2),b("ngIf",r.orders.length>0))},dependencies:[se,q,De,ne,ue,le,ke,Pe,L,ce,oe,ae,he,J,K],styles:[".accordion-header[_ngcontent-%COMP%]{cursor:pointer;background-color:#f8f9fa;padding:10px}.accordion-body[_ngcontent-%COMP%]{padding:10px;background-color:#e9ecef;transition:all .3s ease-in-out}.accordion-icon[_ngcontent-%COMP%]{display:inline-block;margin-left:10px;transition:transform .3s ease}.accordion-icon.open[_ngcontent-%COMP%]{transform:rotate(90deg)}.accordion-collapse[_ngcontent-%COMP%]{overflow:hidden;transition:max-height .3s ease}.accordion-collapse.collapse.show[_ngcontent-%COMP%]{max-height:500px}.accordion-collapse.collapse[_ngcontent-%COMP%]{max-height:0}.modal.show[_ngcontent-%COMP%]{display:block;background-color:#00000080}.modal-dialog-centered[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh}.modal-content[_ngcontent-%COMP%]{border-radius:8px;max-width:600px;margin:auto}.container[_ngcontent-%COMP%]{min-height:100vh}"]});let n=e;return n})();function ks(n,e){if(n&1){let s=x();a(0,"tr")(1,"td")(2,"input",11),v("change",function(i){let r=E(s).$implicit,l=O(2);return T(l.onOrderSelectionChange(r,i))}),o()(),a(3,"td"),c(4),o(),a(5,"td"),c(6),o(),a(7,"td"),c(8),o(),a(9,"td"),c(10),o(),a(11,"td"),c(12),P(13,"date"),o()()}if(n&2){let s=e.$implicit,t=O(2);u(4),_(s.id),u(2),_(s.nr),u(2),_(s.cliente),u(),te("color",t.getPriorityColor(s.prioridade)),u(),ie(" ",s.prioridade," "),u(2),_(B(13,7,s.dataH,"dd/MM HH:mm"))}}function Ps(n,e){if(n&1){let s=x();a(0,"div")(1,"h3"),c(2,"Pedidos para Retorno"),o(),a(3,"table",7)(4,"thead")(5,"tr")(6,"th",8),c(7,"Selecionar"),o(),a(8,"th",8),c(9,"Id"),o(),a(10,"th",8),c(11,"NR"),o(),a(12,"th",8),c(13,"Cliente"),o(),a(14,"th",8),c(15,"Prioridade"),o(),a(16,"th",8),c(17,"DataHora"),o()()(),a(18,"tbody"),M(19,ks,14,10,"tr",9),o()(),a(20,"button",10),v("click",function(){E(s);let i=O();return T(i.confirmReturn())}),c(21," Confirmar Retorno "),o()()}if(n&2){let s=O();u(19),b("ngForOf",s.orders)}}var fn=(()=>{let e=class e{constructor(t,i){this.orderService=t,this.fb=i,this.orders=[],this.selectedOrders=[],this.returnForm=this.fb.group({entregador:["",D.required]})}ngOnInit(){this.loadOrders()}loadOrders(){let t=this.returnForm.get("entregador")?.value?.toLowerCase();t&&this.orderService.getOrders().subscribe(i=>{this.orders=i.filter(r=>r.status===3&&r.entregador?.toLowerCase()===t),this.orders.length===0&&alert("Nenhum pedido encontrado para este entregador.")})}onOrderSelectionChange(t,i){i.target.checked?this.selectedOrders.push(t):this.selectedOrders=this.selectedOrders.filter(r=>r!==t)}confirmReturn(){if(this.selectedOrders.length===0){alert("Nenhum pedido selecionado");return}let t=new Date,i=this.returnForm.get("entregador")?.value||"";this.selectedOrders.forEach(r=>{r.status=5,r.dataHRetorno=t,this.orderService.updateOrder(r.id,r).subscribe(()=>{this.loadOrders()})}),this.selectedOrders=[],alert("Obrigado por confirmar o retorno da rota"),window.location.href="/entrega"}getPriorityColor(t){return{Vermelho:"red",Amarelo:"orange",Azul:"blue",Verde:"green"}[t]||"black"}};e.\u0275fac=function(i){return new(i||e)(p(pe),p(de))},e.\u0275cmp=F({type:e,selectors:[["app-delivery-return"]],standalone:!0,features:[k],decls:9,vars:2,consts:[[1,"container"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","entregador",1,"form-label"],["formControlName","entregador","type","text","id","entregador","placeholder","insira seu nome somente com letras minusculas e sem acento",1,"form-control"],["type","submit",1,"btn","btn-primary"],[4,"ngIf"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"btn","btn-success",3,"click"],["type","checkbox",3,"change"]],template:function(i,r){i&1&&(a(0,"div",0)(1,"form",1),v("ngSubmit",function(){return r.loadOrders()}),a(2,"div",2)(3,"label",3),c(4,"Nome do Entregador"),o(),y(5,"input",4),o(),a(6,"button",5),c(7,"Buscar Pedidos"),o()(),M(8,Ps,22,1,"div",6),o()),i&2&&(u(),b("formGroup",r.returnForm),u(7),b("ngIf",r.orders.length>0))},dependencies:[se,q,De,ne,ue,le,L,oe,ae,he,J,K],styles:[".container[_ngcontent-%COMP%]{min-height:100vh}"]});let n=e;return n})();var mn=[{path:"pedidos",component:rn},{path:"entrega",component:hn},{path:"entregues",component:pn},{path:"entregaVolta",component:fn},{path:"",redirectTo:"/pedidos",pathMatch:"full"}];var Vs="@",Bs=(()=>{let e=class e{constructor(t,i,r,l,d){this.doc=t,this.delegate=i,this.zone=r,this.animationType=l,this.moduleImpl=d,this._rendererFactoryPromise=null,this.scheduler=Je(oi,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-55NP3QIY.mjs")).catch(i=>{throw new Se(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:r})=>{this._engine=i(this.animationType,this.doc,this.scheduler);let l=new r(this.delegate,this._engine,this.zone);return this.delegate=l,l})}createRenderer(t,i){let r=this.delegate.createRenderer(t,i);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let l=new Zt(r);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(d=>{let h=d.createRenderer(t,i);l.use(h)}).catch(d=>{l.use(r)}),l}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(i){ri()},e.\u0275prov=R({token:e,factory:e.\u0275fac});let n=e;return n})(),Zt=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let s of this.replay)s(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,s){return this.delegate.createElement(e,s)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,s){this.delegate.appendChild(e,s)}insertBefore(e,s,t,i){this.delegate.insertBefore(e,s,t,i)}removeChild(e,s,t){this.delegate.removeChild(e,s,t)}selectRootElement(e,s){return this.delegate.selectRootElement(e,s)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,s,t,i){this.delegate.setAttribute(e,s,t,i)}removeAttribute(e,s,t){this.delegate.removeAttribute(e,s,t)}addClass(e,s){this.delegate.addClass(e,s)}removeClass(e,s){this.delegate.removeClass(e,s)}setStyle(e,s,t,i){this.delegate.setStyle(e,s,t,i)}removeStyle(e,s,t){this.delegate.removeStyle(e,s,t)}setProperty(e,s,t){this.shouldReplay(s)&&this.replay.push(i=>i.setProperty(e,s,t)),this.delegate.setProperty(e,s,t)}setValue(e,s){this.delegate.setValue(e,s)}listen(e,s,t){return this.shouldReplay(s)&&this.replay.push(i=>i.listen(e,s,t)),this.delegate.listen(e,s,t)}shouldReplay(e){return this.replay!==null&&e.startsWith(Vs)}};function _n(n="animations"){return ai("NgAsyncAnimations"),ni([{provide:et,useFactory:(e,s,t)=>new Bs(e,s,t,n),deps:[Ie,_i,ge]},{provide:si,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var gn={providers:[Oi(mn),vi(),fi(mi()),_n()]};var Gs={providers:[yi()]},vn=ui(gn,Gs);var Hs=()=>gi(on,vn),za=Hs;export{za as a};
