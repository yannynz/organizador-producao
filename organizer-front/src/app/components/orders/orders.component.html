<div class="container mt-4">
  <!-- Indicadores de Prioridade -->
  <div class="row mb-3 text-center">
    <div class="col-6 col-md-3">
      <p><span class="badge bg-danger">●</span> Alta Prioridade</p>
    </div>
    <div class="col-6 col-md-3">
      <p><span class="badge bg-warning text-dark">●</span> Média Prioridade</p>
    </div>
    <div class="col-6 col-md-3">
      <p><span class="badge bg-primary">●</span> Baixa Prioridade</p>
    </div>
    <div class="col-6 col-md-3">
      <p><span class="badge bg-success">●</span> Muito Baixa Prioridade</p>
    </div>
  </div>

  <!-- Tabela de Pedidos -->
  <div class="table-responsive">
    <table class="table table-striped">
      <thead>
        <tr>
          <th>ID</th>
          <th>nr</th>
          <th>cliente</th>
          <th>prioridade</th>
          <th>dataHora</th>
          <th>status</th>
          <th>obs</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let order of orders">
          <td>{{ order.id }}</td>
          <td>{{ order.nr }}</td>
          <td>{{ order.cliente }}</td>
          <td [ngStyle]="{'background-color': getPriorityColor(order.prioridade)}">
            {{ order.prioridade }}
          </td>
          <td>{{ order.dataH | date: 'dd/MM HH:mm' }}</td>
          <td>{{ getStatusDescription(order.status) }}</td>
          <td>{{ order.observacao }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- Modal de Criação de Pedido -->
<div
  class="modal fade"
  id="createOrderModal"
  tabindex="-1"
  aria-labelledby="createOrderModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="createOrderModalLabel">Novo Pedido</h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <form [formGroup]="createOrderForm" (ngSubmit)="createOrder()">
          <div class="mb-3">
            <label for="nr" class="form-label">Número</label>
            <input type="text" id="nr" formControlName="nr" class="form-control" />
          </div>
          <div class="mb-3">
            <label for="cliente" class="form-label">Cliente</label>
            <input
              type="text"
              id="cliente"
              formControlName="cliente"
              class="form-control"
            />
          </div>
          <div class="mb-3">
            <label for="prioridade" class="form-label">Prioridade</label>
            <select
              formControlName="prioridade"
              class="form-control"
              id="prioridade"
            >
              <option value="Vermelho">Vermelho</option>
              <option value="Amarelo">Amarelo</option>
              <option value="Azul">Azul</option>
              <option value="Verde">Verde</option>
            </select>
          </div>
          <div class="mb-3">
            <label for="dataH" class="form-label">Data e Hora</label>
            <input
              type="datetime-local"
              id="dataH"
              formControlName="dataH"
              class="form-control"
            />
          </div>
          <button type="submit" class="btn btn-primary w-100">Criar Pedido</button>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- Modal de Edição de Pedido -->
<div
  class="modal fade"
  id="editOrderModal"
  tabindex="-1"
  aria-labelledby="editOrderModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="editOrderModalLabel">Editar Pedido</h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <form [formGroup]="editOrderForm" (ngSubmit)="updateOrder()">
          <div class="mb-3">
            <label for="nr" class="form-label">Número</label>
            <input type="text" id="nr" formControlName="nr" class="form-control" />
          </div>
          <div class="mb-3">
            <label for="cliente" class="form-label">Cliente</label>
            <input
              type="text"
              id="cliente"
              formControlName="cliente"
              class="form-control"
            />
          </div>
          <div class="mb-3">
            <label for="prioridade" class="form-label">Prioridade</label>
            <input
              type="text"
              id="prioridade"
              formControlName="prioridade"
              class="form-control"
            />
          </div>
          <div class="mb-3">
            <label for="dataH" class="form-label">Data e Hora</label>
            <input
              type="datetime-local"
              id="dataH"
              formControlName="dataH"
              class="form-control"
            />
          </div>
          <button type="submit" class="btn btn-primary w-100">
            Atualizar Pedido
          </button>
        </form>
      </div>
    </div>
  </div>
</div>

