!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@stomp/rx-stomp"),require("rxjs"),require("rxjs/operators"),require("@stomp/stompjs")):"function"==typeof define&&define.amd?define("@stomp/ng2-stompjs",["exports","@angular/core","@stomp/rx-stomp","rxjs","rxjs/operators","@stomp/stompjs"],e):e((t.stomp=t.stomp||{},t.stomp["ng2-stompjs"]={}),t.ng.core,t.RxStomp,t.rxjs,t.rxjs.operators,t.stompjs)}(this,function(t,o,e,i,c,r){"use strict";var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function p(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var a={CLOSED:0,TRYING:1,CONNECTED:2,DISCONNECTING:3};a[a.CLOSED]="CLOSED",a[a.TRYING]="TRYING",a[a.CONNECTED]="CONNECTED",a[a.DISCONNECTING]="DISCONNECTING";var u=function(n){function r(){var e=n.call(this)||this;return e.state=new i.BehaviorSubject(a.CLOSED),e.connectionState$.subscribe(function(t){e.state.next(r._mapStompState(t))}),e}return p(r,n),r._mapStompState=function(t){return t===e.RxStompState.CONNECTING?a.TRYING:t===e.RxStompState.OPEN?a.CONNECTED:t===e.RxStompState.CLOSING?a.DISCONNECTING:t===e.RxStompState.CLOSED?a.CLOSED:void 0},Object.defineProperty(r.prototype,"connectObservable",{get:function(){return this.connected$.pipe(c.map(function(t){return r._mapStompState(t)}))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"serverHeadersObservable",{get:function(){return this.serverHeaders$},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"defaultMessagesObservable",{get:function(){return this.unhandledMessage$},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"receiptsObservable",{get:function(){return this.unhandledReceipts$},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"errorSubject",{get:function(){return this.stompErrors$},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"config",{set:function(t){var e={};"string"==typeof t.url?e.brokerURL=t.url:e.webSocketFactory=t.url,e.heartbeatIncoming=t.heartbeat_in,e.heartbeatOutgoing=t.heartbeat_out,e.reconnectDelay=t.reconnect_delay,t.debug&&(e.debug=function(t){console.log(new Date,t)}),e.connectHeaders=t.headers,this.configure(e)},enumerable:!0,configurable:!0}),r.prototype.initAndConnect=function(){this.deactivate(),this.activate()},r.prototype.disconnect=function(){this.deactivate()},r.prototype.publish=function(t,e,r){if(void 0===r&&(r={}),"string"==typeof t)n.prototype.publish.call(this,{destination:t,body:e,headers:r});else{var o=t;n.prototype.publish.call(this,o)}},r.prototype.subscribe=function(t,e){return void 0===e&&(e={}),this.watch(t,e)},r.prototype.waitForReceipt=function(t,e){n.prototype.watchForReceipt.call(this,t,e)},Object.defineProperty(r.prototype,"client",{get:function(){return this._stompClient},enumerable:!0,configurable:!0}),r.decorators=[{type:o.Injectable}],r.ctorParameters=function(){return[]},r}(e.RxStomp),s=function(){function t(){}return t.decorators=[{type:o.Injectable}],t}(),f=function(r){function t(t){var e=r.call(this)||this;return e.config=t,e.initAndConnect(),e}return p(t,r),t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){return[{type:s}]},t}(u),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.decorators=[{type:o.Injectable}],e}(e.RxStomp),b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.decorators=[{type:o.Injectable}],e}(e.RxStompRPCConfig),m=b,y=function(r){function t(t,e){return r.call(this,t,e)||this}return p(t,r),t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){return[{type:l},{type:b,decorators:[{type:o.Optional}]}]},t}(e.RxStompRPC),S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.decorators=[{type:o.Injectable}],e}(e.RxStompConfig);t.StompHeaders=r.StompHeaders,t.StompRService=u,t.StompService=f,t.StompState=a,t.StompConfig=s,t.RxStompRPCService=y,t.RxStompService=l,t.InjectableRxStompConfig=S,t.InjectableRxStompRPCConfig=b,t.InjectableRxStompRpcConfig=m,t.rxStompServiceFactory=function d(t){var e=new l;return e.configure(t),e.activate(),e},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=stomp-ng2-stompjs.umd.min.js.map